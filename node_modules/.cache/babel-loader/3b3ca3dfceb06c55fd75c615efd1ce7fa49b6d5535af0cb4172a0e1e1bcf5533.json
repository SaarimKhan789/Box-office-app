{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport { useReducer, useEffect, useState } from \"react\";\nfunction showsReducer(prevState, action) {\n  switch (action.type) {\n    case \"ADD\":\n      {\n        return [...prevState, action.showId];\n      }\n    case \"REMOVE\":\n      {\n        return prevState.filter(showId => showId !== action.showId);\n      }\n    default:\n      return prevState;\n  }\n}\nfunction usePersistentReducer(reducer, intialState, key) {\n  _s();\n  const [state, dispatch] = useReducer(reducer, intialState, intial => {\n    const persisted = localStorage.getItem(key);\n    return persisted ? JSON.parse(persisted) : intial;\n  });\n  useEffect(() => {\n    localStorage.setItem(key, JSON.stringify(state));\n  }, [state, key]);\n  return [state, dispatch];\n}\n_s(usePersistentReducer, \"XStJqF7F09aht/JkpKz/HpJvZiw=\");\nexport function useShows() {\n  _s2();\n  let key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"shows\";\n  return usePersistentReducer(showsReducer, [], key);\n}\n_s2(useShows, \"HuPHa/ISVOim4cbQcF96io0NvfA=\", false, function () {\n  return [usePersistentReducer];\n});\nexport function useLastQuery() {\n  _s3();\n  let key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"lastQuery\";\n  const [input, setInput] = useState(() => {\n    const persisted = sessionStorage.getItem(key);\n    return persisted ? JSON.parse(persisted) : \"\";\n  });\n  const setPersistedInput = newState => {\n    setInput(newState);\n    sessionStorage.setItem(key, JSON.stringify(newState));\n  };\n  return [input, setInput];\n}\n_s3(useLastQuery, \"prVxINScwm+8vuKzR5FaAvZVuhM=\");","map":{"version":3,"names":["useReducer","useEffect","useState","showsReducer","prevState","action","type","showId","filter","usePersistentReducer","reducer","intialState","key","state","dispatch","intial","persisted","localStorage","getItem","JSON","parse","setItem","stringify","useShows","useLastQuery","input","setInput","sessionStorage","setPersistedInput","newState"],"sources":["/Users/saarimkhan/Desktop/Box Office App/box-office/Box-office-app/src/misc/custom-hooks.js"],"sourcesContent":["import { useReducer, useEffect, useState } from \"react\";\n\nfunction showsReducer(prevState, action) {\n  switch (action.type) {\n    case \"ADD\": {\n      return [...prevState, action.showId];\n    }\n    case \"REMOVE\": {\n      return prevState.filter((showId) => showId !== action.showId);\n    }\n    default:\n      return prevState;\n  }\n}\nfunction usePersistentReducer(reducer, intialState, key) {\n  const [state, dispatch] = useReducer(reducer, intialState, (intial) => {\n    const persisted = localStorage.getItem(key);\n    return persisted ? JSON.parse(persisted) : intial;\n  });\n\n  useEffect(() => {\n    localStorage.setItem(key, JSON.stringify(state));\n  }, [state, key]);\n\n  return [state, dispatch];\n}\n\nexport function useShows(key = \"shows\") {\n  return usePersistentReducer(showsReducer, [], key);\n}\n\nexport function useLastQuery(key = \"lastQuery\") {\n  const [input, setInput] = useState(() => {\n    const persisted = sessionStorage.getItem(key);\n    return persisted ? JSON.parse(persisted) : \"\";\n  });\n  const setPersistedInput = (newState) => {\n    setInput(newState);\n    sessionStorage.setItem(key, JSON.stringify(newState));\n  };\n  return [input, setInput];\n}\n"],"mappings":";;;AAAA,SAASA,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAEvD,SAASC,YAAY,CAACC,SAAS,EAAEC,MAAM,EAAE;EACvC,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,KAAK;MAAE;QACV,OAAO,CAAC,GAAGF,SAAS,EAAEC,MAAM,CAACE,MAAM,CAAC;MACtC;IACA,KAAK,QAAQ;MAAE;QACb,OAAOH,SAAS,CAACI,MAAM,CAAED,MAAM,IAAKA,MAAM,KAAKF,MAAM,CAACE,MAAM,CAAC;MAC/D;IACA;MACE,OAAOH,SAAS;EAAC;AAEvB;AACA,SAASK,oBAAoB,CAACC,OAAO,EAAEC,WAAW,EAAEC,GAAG,EAAE;EAAA;EACvD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGd,UAAU,CAACU,OAAO,EAAEC,WAAW,EAAGI,MAAM,IAAK;IACrE,MAAMC,SAAS,GAAGC,YAAY,CAACC,OAAO,CAACN,GAAG,CAAC;IAC3C,OAAOI,SAAS,GAAGG,IAAI,CAACC,KAAK,CAACJ,SAAS,CAAC,GAAGD,MAAM;EACnD,CAAC,CAAC;EAEFd,SAAS,CAAC,MAAM;IACdgB,YAAY,CAACI,OAAO,CAACT,GAAG,EAAEO,IAAI,CAACG,SAAS,CAACT,KAAK,CAAC,CAAC;EAClD,CAAC,EAAE,CAACA,KAAK,EAAED,GAAG,CAAC,CAAC;EAEhB,OAAO,CAACC,KAAK,EAAEC,QAAQ,CAAC;AAC1B;AAAC,GAXQL,oBAAoB;AAa7B,OAAO,SAASc,QAAQ,GAAgB;EAAA;EAAA,IAAfX,GAAG,uEAAG,OAAO;EACpC,OAAOH,oBAAoB,CAACN,YAAY,EAAE,EAAE,EAAES,GAAG,CAAC;AACpD;AAAC,IAFeW,QAAQ;EAAA,QACfd,oBAAoB;AAAA;AAG7B,OAAO,SAASe,YAAY,GAAoB;EAAA;EAAA,IAAnBZ,GAAG,uEAAG,WAAW;EAC5C,MAAM,CAACa,KAAK,EAAEC,QAAQ,CAAC,GAAGxB,QAAQ,CAAC,MAAM;IACvC,MAAMc,SAAS,GAAGW,cAAc,CAACT,OAAO,CAACN,GAAG,CAAC;IAC7C,OAAOI,SAAS,GAAGG,IAAI,CAACC,KAAK,CAACJ,SAAS,CAAC,GAAG,EAAE;EAC/C,CAAC,CAAC;EACF,MAAMY,iBAAiB,GAAIC,QAAQ,IAAK;IACtCH,QAAQ,CAACG,QAAQ,CAAC;IAClBF,cAAc,CAACN,OAAO,CAACT,GAAG,EAAEO,IAAI,CAACG,SAAS,CAACO,QAAQ,CAAC,CAAC;EACvD,CAAC;EACD,OAAO,CAACJ,KAAK,EAAEC,QAAQ,CAAC;AAC1B;AAAC,IAVeF,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}