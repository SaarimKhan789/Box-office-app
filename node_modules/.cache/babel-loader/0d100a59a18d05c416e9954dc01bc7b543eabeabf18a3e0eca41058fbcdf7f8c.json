{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useReducer, useEffect } from \"react\";\nfunction showsReducer(prevState, action) {\n  switch (action.type) {\n    case \"ADD\":\n      {\n        return [...prevState, action.showId];\n      }\n    case \"REMOVE\":\n      {\n        return prevState.filter(showId => showId !== action.showId);\n      }\n    default:\n      return prevState;\n  }\n}\nfunction usePersistentReducer(reducer, intialState, key) {\n  _s();\n  const [state, dispatch] = useReducer(reducer, intialState, intial => {\n    const persisted = localStorage.getItem(key);\n    return persisted ? JSON.parse(persisted) : intial;\n  });\n  useEffect(() => {\n    localStorage.setItem(key, JSON.stringify(state));\n  }, [state, key]);\n  return [state, dispatch];\n}\n_s(usePersistentReducer, \"XStJqF7F09aht/JkpKz/HpJvZiw=\");\nexport function useShows() {\n  _s2();\n  let key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"shows\";\n  return usePersistentReducer(showsReducer, [], key);\n}\n_s2(useShows, \"HuPHa/ISVOim4cbQcF96io0NvfA=\", false, function () {\n  return [usePersistentReducer];\n});","map":{"version":3,"names":["useReducer","useEffect","showsReducer","prevState","action","type","showId","filter","usePersistentReducer","reducer","intialState","key","state","dispatch","intial","persisted","localStorage","getItem","JSON","parse","setItem","stringify","useShows"],"sources":["/Users/saarimkhan/Desktop/Box Office App/box-office/Box-office-app/src/misc/custom-hooks.js"],"sourcesContent":["import { useReducer, useEffect } from \"react\";\n\nfunction showsReducer(prevState, action) {\n  switch (action.type) {\n    case \"ADD\": {\n      return [...prevState, action.showId];\n    }\n    case \"REMOVE\": {\n      return prevState.filter((showId) => showId !== action.showId);\n    }\n    default:\n      return prevState;\n  }\n}\nfunction usePersistentReducer(reducer, intialState, key) {\n  const [state, dispatch] = useReducer(reducer, intialState, (intial) => {\n    const persisted = localStorage.getItem(key);\n    return persisted ? JSON.parse(persisted) : intial;\n  });\n\n  useEffect(() => {\n    localStorage.setItem(key, JSON.stringify(state));\n  }, [state, key]);\n\n  return [state, dispatch];\n}\n\nexport function useShows(key = \"shows\") {\n  return usePersistentReducer(showsReducer, [], key);\n}\n"],"mappings":";;AAAA,SAASA,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAE7C,SAASC,YAAY,CAACC,SAAS,EAAEC,MAAM,EAAE;EACvC,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,KAAK;MAAE;QACV,OAAO,CAAC,GAAGF,SAAS,EAAEC,MAAM,CAACE,MAAM,CAAC;MACtC;IACA,KAAK,QAAQ;MAAE;QACb,OAAOH,SAAS,CAACI,MAAM,CAAED,MAAM,IAAKA,MAAM,KAAKF,MAAM,CAACE,MAAM,CAAC;MAC/D;IACA;MACE,OAAOH,SAAS;EAAC;AAEvB;AACA,SAASK,oBAAoB,CAACC,OAAO,EAAEC,WAAW,EAAEC,GAAG,EAAE;EAAA;EACvD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGb,UAAU,CAACS,OAAO,EAAEC,WAAW,EAAGI,MAAM,IAAK;IACrE,MAAMC,SAAS,GAAGC,YAAY,CAACC,OAAO,CAACN,GAAG,CAAC;IAC3C,OAAOI,SAAS,GAAGG,IAAI,CAACC,KAAK,CAACJ,SAAS,CAAC,GAAGD,MAAM;EACnD,CAAC,CAAC;EAEFb,SAAS,CAAC,MAAM;IACde,YAAY,CAACI,OAAO,CAACT,GAAG,EAAEO,IAAI,CAACG,SAAS,CAACT,KAAK,CAAC,CAAC;EAClD,CAAC,EAAE,CAACA,KAAK,EAAED,GAAG,CAAC,CAAC;EAEhB,OAAO,CAACC,KAAK,EAAEC,QAAQ,CAAC;AAC1B;AAAC,GAXQL,oBAAoB;AAa7B,OAAO,SAASc,QAAQ,GAAgB;EAAA;EAAA,IAAfX,GAAG,uEAAG,OAAO;EACpC,OAAOH,oBAAoB,CAACN,YAAY,EAAE,EAAE,EAAES,GAAG,CAAC;AACpD;AAAC,IAFeW,QAAQ;EAAA,QACfd,oBAAoB;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}